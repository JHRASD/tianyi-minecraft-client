
========= TIANYI CLIENT æ¨¡å—å¼€å‘å‚è€ƒæ‰‹å†Œ =========
ğŸ“¦ é¡¹ç›®ç‰ˆæœ¬ï¼šMinecraft 1.21.8
ğŸ“ åŸºç¡€åŒ…è·¯å¾„ï¼šcom.example.tianyiclient
ğŸ”§ 1. MODULE åŸºç±»ç»“æ„
1.1 æ„é€ å‡½æ•°
java
public Module(String name, String description, Category category)
å‚æ•°è¯´æ˜ï¼š

name: æ¨¡å—åç§°ï¼ˆæ˜¾ç¤ºåœ¨ç•Œé¢ä¸­ï¼‰

description: æ¨¡å—æè¿°

category: åˆ†ç±»æšä¸¾ï¼ˆæˆ˜æ–—ã€ç§»åŠ¨ã€æ¸²æŸ“ã€ç©å®¶ã€ä¸–ç•Œã€å…¶ä»–ï¼‰

1.2 ç»§æ‰¿æ—¶éœ€è¦é‡å†™çš„æ–¹æ³•
java
@Override
protected void onEnable() {
    // æ¨¡å—å¯ç”¨æ—¶è°ƒç”¨ - åˆå§‹åŒ–é€»è¾‘
}

@Override
protected void onDisable() {
    // æ¨¡å—ç¦ç”¨æ—¶è°ƒç”¨ - æ¸…ç†é€»è¾‘
}

// å¯é€‰ï¼šæ¯ä¸ªtickè°ƒç”¨çš„æ–¹æ³•ï¼ˆéäº‹ä»¶é©±åŠ¨ï¼‰
@Override
public void onTick() {
    // æ¯ä¸ªæ¸¸æˆtickéƒ½ä¼šè°ƒç”¨
}
1.3 å¸¸ç”¨æ–¹æ³•
java
// æ§åˆ¶æ–¹æ³•
public void enable()              // å¯ç”¨æ¨¡å—
public void disable()             // ç¦ç”¨æ¨¡å—
public void toggle()              // åˆ‡æ¢å¼€å…³çŠ¶æ€
public boolean isEnabled()        // æ£€æŸ¥æ˜¯å¦å¯ç”¨

// å¿«æ·é”®ç›¸å…³
public void setKeybind(int key)   // è®¾ç½®å¿«æ·é”®ï¼ˆGLFWé”®ç ï¼‰
public int getKeybind()           // è·å–å¿«æ·é”®

// è®¾ç½®é¡¹ç®¡ç†
public <T extends Setting<?>> T addSetting(T setting)  // æ·»åŠ è®¾ç½®é¡¹
public List<Setting<?>> getSettings()                   // è·å–æ‰€æœ‰è®¾ç½®
public Setting<?> getSettingByName(String name)        // æ ¹æ®åç§°è·å–è®¾ç½®

// å®ç”¨æ–¹æ³•
public boolean getBoolSettingValue(String name)        // è·å–å¸ƒå°”è®¾ç½®å€¼
public double getDoubleSettingValue(String name)       // è·å–Doubleè®¾ç½®å€¼
1.4 é‡è¦å­—æ®µ
java
// åœ¨Moduleä¸­å·²è‡ªåŠ¨åˆå§‹åŒ–çš„MinecraftClientå®ä¾‹
protected final MinecraftClient mc = MinecraftClient.getInstance();

// ä½¿ç”¨ç¤ºä¾‹ï¼š
if (mc.player != null && mc.world != null) {
    // å®‰å…¨åœ°è®¿é—®æ¸¸æˆå¯¹è±¡
    float health = mc.player.getHealth();
}
1.5 æ¨¡å—ç»§æ‰¿ç¤ºä¾‹
java
package com.example.tianyiclient.modules.combat;

import com.example.tianyiclient.modules.Module;
import com.example.tianyiclient.modules.Category;

public class MyModule extends Module {
    public MyModule() {
        super("æ¨¡å—å", "æ¨¡å—æè¿°", Category.æˆ˜æ–—);  // å¿…é¡»è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
    }
    
    @Override
    protected void onEnable() {
        // æ¨¡å—å¯ç”¨é€»è¾‘
    }
    
    @Override
    protected void onDisable() {
        // æ¨¡å—ç¦ç”¨é€»è¾‘
    }
}
âš™ï¸ 2. SETTING ç³»ç»Ÿ
2.1 SettingåŸºç±»
java
// æ„é€ å‡½æ•°
Setting(String name, String description, T defaultValue)

// é€šç”¨æ–¹æ³•
getName()        // è·å–è®¾ç½®åç§°
getDescription() // è·å–æè¿°
getValue()       // è·å–å½“å‰å€¼
setValue(T)      // è®¾ç½®å€¼
2.2 BoolSettingï¼ˆå¸ƒå°”è®¾ç½®ï¼‰
java
// æ„é€ å‡½æ•°
BoolSetting(String name, String description, boolean defaultValue)

// ç¤ºä¾‹
BoolSetting showInfo = new BoolSetting("æ˜¾ç¤ºä¿¡æ¯", "æ˜¯å¦æ˜¾ç¤ºé¢å¤–ä¿¡æ¯", true);
addSetting(showInfo);

// ä½¿ç”¨
boolean isEnabled = showInfo.getValue();  // è·å–å¸ƒå°”å€¼
showInfo.setValue(false);                 // è®¾ç½®å¸ƒå°”å€¼
showInfo.toggle();                        // åˆ‡æ¢å¸ƒå°”å€¼
showInfo.isEnabled();                     // æ£€æŸ¥æ˜¯å¦å¯ç”¨
2.3 IntegerSettingï¼ˆæ•´æ•°è®¾ç½®ï¼‰
java
// æ„é€ å‡½æ•°ï¼ˆå¸¦èŒƒå›´ï¼‰
IntegerSetting(String name, String description, Integer defaultValue, int min, int max)

// ç¤ºä¾‹
IntegerSetting cps = new IntegerSetting("CPS", "æ¯ç§’ç‚¹å‡»æ¬¡æ•°", 10, 1, 20);
addSetting(cps);

// ä½¿ç”¨
int value = cps.getValue();      // è·å–æ•´æ•°å€¼
cps.setValue(15);                // è®¾ç½®æ•´æ•°å€¼
cps.getMin();                    // è·å–æœ€å°å€¼
cps.getMax();                    // è·å–æœ€å¤§å€¼
2.4 DoubleSettingï¼ˆåŒç²¾åº¦è®¾ç½®ï¼‰
java
// æ„é€ å‡½æ•°
DoubleSetting(String name, String description, double defaultValue, double min, double max)

// ç¤ºä¾‹
DoubleSetting speed = new DoubleSetting("é€Ÿåº¦", "ç§»åŠ¨é€Ÿåº¦å€æ•°", 1.5, 0.1, 5.0);
addSetting(speed);

// ä½¿ç”¨
double value = speed.getValue();  // è·å–åŒç²¾åº¦å€¼
2.5 KeybindSettingï¼ˆå¿«æ·é”®è®¾ç½®ï¼‰
java
// æ„é€ å‡½æ•°
KeybindSetting(String name, String description, Module module)

// æ³¨æ„ï¼šæ­¤è®¾ç½®é¡¹ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ 
// æ¨¡å—ä¼šè‡ªåŠ¨åŒ…å«ä¸€ä¸ªKeybindSetting
2.6 è®¾ç½®é¡¹æ·»åŠ æµç¨‹
java
public class MyModule extends Module {
    // å£°æ˜ä¸ºå­—æ®µ
    private final BoolSetting setting1;
    private final IntegerSetting setting2;
    
    public MyModule() {
        super("æ¨¡å—å", "æè¿°", Category.æˆ˜æ–—);
        
        // åˆå§‹åŒ–å¹¶æ·»åŠ è®¾ç½®
        setting1 = addSetting(new BoolSetting("å¼€å…³", "å¯ç”¨/ç¦ç”¨åŠŸèƒ½", true));
        setting2 = addSetting(new IntegerSetting("æ¬¡æ•°", "é‡å¤æ¬¡æ•°", 5, 1, 20));
    }
}
ğŸ¯ 3. CATEGORY æšä¸¾
java
// å¯ç”¨åˆ†ç±»ï¼ˆå¯¹åº”ä¸­æ–‡æ˜¾ç¤ºï¼‰ï¼š
Category.æˆ˜æ–—     // Combat
Category.ç§»åŠ¨     // Movement  
Category.æ¸²æŸ“     // Render
Category.ç©å®¶     // Player
Category.ä¸–ç•Œ     // World
Category.å…¶ä»–     // Miscellaneous

// ä½¿ç”¨ç¤ºä¾‹ï¼š
public class MyModule extends Module {
    public MyModule() {
        super("æ¨¡å—å", "æè¿°", Category.æˆ˜æ–—);  // é€‰æ‹©å¯¹åº”åˆ†ç±»
    }
}
âš¡ 4. EVENT äº‹ä»¶ç³»ç»Ÿ
4.1 äº‹ä»¶å¤„ç†å™¨æ³¨è§£
java
// åŸºæœ¬ç”¨æ³•
@EventHandler
public void onEventName(EventType event) {
    // äº‹ä»¶å¤„ç†é€»è¾‘
}

// å®Œæ•´æ³¨è§£å‚æ•°
@EventHandler(
    priority = Priority.NORMAL,     // ä¼˜å…ˆçº§ï¼šHIGHEST, HIGH, NORMAL, LOW, LOWEST
    receiveCancelled = false,       // æ˜¯å¦æ¥æ”¶å·²å–æ¶ˆçš„äº‹ä»¶
    ignoreCancelled = false         // æ˜¯å¦å¿½ç•¥äº‹ä»¶å–æ¶ˆçŠ¶æ€
)
public void onEvent(EventType event) {
    // é€»è¾‘
}
4.2 TickEventï¼ˆæ¸¸æˆtickäº‹ä»¶ï¼‰
java
// å¯¼å…¥è·¯å¾„
import com.example.tianyiclient.event.events.client.TickEvent;

// ç›‘å¬æ–¹æ³•
@EventHandler
public void onTick(TickEvent event) {
    // é‡è¦ï¼šæ£€æŸ¥æ¨¡å—æ˜¯å¦å¯ç”¨
    if (!isEnabled()) return;
    
    // æ£€æŸ¥æ¸¸æˆå¯¹è±¡æ˜¯å¦å¯ç”¨
    if (mc.player == null || mc.world == null) return;
    
    // è·å–äº‹ä»¶ä¿¡æ¯
    TickEvent.Phase phase = event.getPhase();        // START æˆ– END
    long tickCount = event.getTickCount();           // tickè®¡æ•°å™¨
    float partialTicks = event.getPartialTicks();    // éƒ¨åˆ†tickæ—¶é—´
    
    // æ¨¡å—é€»è¾‘...
}

// é˜¶æ®µåˆ¤æ–­ç¤ºä¾‹
@EventHandler
public void onTick(TickEvent event) {
    if (!isEnabled()) return;
    
    if (event.getPhase() == TickEvent.Phase.START) {
        // æ¯tickå¼€å§‹æ—¶æ‰§è¡Œ
    } else if (event.getPhase() == TickEvent.Phase.END) {
        // æ¯tickç»“æŸæ—¶æ‰§è¡Œ
    }
}
4.3 å…¶ä»–å¯ç”¨äº‹ä»¶ï¼ˆæ ¹æ®é¡¹ç›®ç»“æ„æ¨æµ‹ï¼‰
java
// æ¸²æŸ“äº‹ä»¶
@EventHandler
public void onRender(RenderEvent event) {
    // æ¸²æŸ“é€»è¾‘
}

// æŒ‰é”®äº‹ä»¶
@EventHandler
public void onKey(KeyEvent event) {
    // æŒ‰é”®å¤„ç†
}

// ç½‘ç»œåŒ…äº‹ä»¶
@EventHandler
public void onPacket(PacketEvent event) {
    // æ•°æ®åŒ…å¤„ç†
}
ğŸ”— 5. å®ç”¨å·¥å…·å’Œè®¿é—®å™¨
5.1 Minecraftå®¢æˆ·ç«¯è®¿é—®
java
// ModuleåŸºç±»å·²æä¾›mcå®ä¾‹ï¼Œç›´æ¥ä½¿ç”¨ï¼š
mc.player                // å½“å‰ç©å®¶å®ä½“ï¼ˆå¯èƒ½ä¸ºnullï¼‰
mc.world                 // å½“å‰ä¸–ç•Œï¼ˆå¯èƒ½ä¸ºnullï¼‰
mc.interactionManager    // äº¤äº’ç®¡ç†å™¨
mc.textRenderer          // æ–‡æœ¬æ¸²æŸ“å™¨
mc.options               // æ¸¸æˆé€‰é¡¹
mc.getWindow()           // æ¸¸æˆçª—å£
mc.currentScreen         // å½“å‰å±å¹•

// å®‰å…¨è®¿é—®æ¨¡å¼
if (mc.player != null && mc.world != null) {
    // å®‰å…¨åœ°è®¿é—®æ¸¸æˆå¯¹è±¡
    float health = mc.player.getHealth();
    BlockPos pos = mc.player.getBlockPos();
}
5.2 ç‰©å“æ å’Œç‰©å“æ“ä½œ
java
// æ£€æŸ¥å‰¯æ‰‹ç‰©å“
ItemStack offhand = mc.player.getOffHandStack();
if (offhand.getItem() == Items.TOTEM_OF_UNDYING) {
    // å‰¯æ‰‹æœ‰å›¾è…¾
}

// éå†ç‰©å“æ 
for (int i = 0; i < mc.player.getInventory().size(); i++) {
    ItemStack stack = mc.player.getInventory().getStack(i);
    if (stack.getItem() == Items.DIAMOND) {
        // æ‰¾åˆ°é’»çŸ³
        int slot = i;  // è®°ä½æ§½ä½
    }
}

// ç‰©å“æ§½ä½è¯´æ˜ï¼š
// 0-8:    å¿«æ·æ 
// 9-35:   èƒŒåŒ…
// 36-44:  æ— æ•ˆï¼ˆï¼Ÿè¯·ç¡®è®¤ï¼‰
// 45:     å‰¯æ‰‹æ§½ä½

// ç§»åŠ¨ç‰©å“ï¼ˆäº¤æ¢æ§½ä½ï¼‰
mc.interactionManager.clickSlot(
    mc.player.currentScreenHandler.syncId,  // å®¹å™¨åŒæ­¥IDï¼ˆ0ä¸ºç©å®¶ç‰©å“æ ï¼‰
    fromSlot,                               // æºæ§½ä½ï¼ˆ0-45ï¼‰
    toSlot,                                 // ç›®æ ‡æ§½ä½ï¼ˆ45æ˜¯å‰¯æ‰‹ï¼‰
    SlotActionType.PICKUP,                  // æ“ä½œç±»å‹ï¼šPICKUP, QUICK_MOVEç­‰
    mc.player                               // ç©å®¶å®ä½“
);

// å®Œæ•´çš„ç‰©å“ç§»åŠ¨æ–¹æ³•
private void moveItem(int fromSlot, int toSlot) {
    if (mc.player == null || mc.interactionManager == null) return;
    
    int syncId = mc.player.currentScreenHandler.syncId;
    mc.interactionManager.clickSlot(syncId, fromSlot, 0, SlotActionType.PICKUP, mc.player);
    mc.interactionManager.clickSlot(syncId, toSlot, 0, SlotActionType.PICKUP, mc.player);
    
    // å¦‚æœæºæ§½ä½è¿˜æœ‰ç‰©å“ï¼ˆäº¤æ¢æ—¶ï¼‰ï¼Œéœ€è¦å†æ¬¡ç‚¹å‡»
    if (!mc.player.getInventory().getStack(fromSlot).isEmpty()) {
        mc.interactionManager.clickSlot(syncId, fromSlot, 0, SlotActionType.PICKUP, mc.player);
    }
}
5.3 ç©å®¶å’Œå®ä½“æ“ä½œ
java
// ç©å®¶å±æ€§
float health = mc.player.getHealth();              // ç”Ÿå‘½å€¼
float absorption = mc.player.getAbsorptionAmount(); // å¸æ”¶æŠ¤ç›¾
Vec3d pos = mc.player.getPos();                    // ä½ç½®åæ ‡
float yaw = mc.player.getYaw();                    // æ°´å¹³è§†è§’
float pitch = mc.player.getPitch();                // å‚ç›´è§†è§’

// ç§»åŠ¨æ§åˆ¶
mc.player.setVelocity(x, y, z);                   // è®¾ç½®é€Ÿåº¦
mc.player.addVelocity(x, y, z);                   // æ·»åŠ é€Ÿåº¦

// å‘é€æ•°æ®åŒ…ï¼ˆæ¨¡æ‹ŸåŠ¨ä½œï¼‰
mc.player.networkHandler.sendPacket(...);
5.4 æ¸²æŸ“å’ŒHUD
java
// æ–‡æœ¬æ¸²æŸ“
mc.textRenderer.drawWithShadow(
    matrices,      // MatrixStack
    text,          // æ–‡æœ¬å†…å®¹
    x, y,          // å±å¹•åæ ‡
    color          // ARGBé¢œè‰²ï¼ˆ0xAARRGGBBï¼‰
);

// è·å–æ–‡æœ¬å®½åº¦
int width = mc.textRenderer.getWidth("æ–‡æœ¬å†…å®¹");

// å±å¹•å°ºå¯¸
int screenWidth = mc.getWindow().getScaledWidth();
int screenHeight = mc.getWindow().getScaledHeight();

// ç»˜åˆ¶çŸ©å½¢
context.fill(x1, y1, x2, y2, color);  // å¡«å……çŸ©å½¢
ğŸ“ 6. å®Œæ•´æ¨¡å—å¼€å‘æ¨¡æ¿
java
package com.example.tianyiclient.modules.[category];

import com.example.tianyiclient.modules.Module;
import com.example.tianyiclient.modules.Category;
import com.example.tianyiclient.settings.*;
import com.example.tianyiclient.event.EventHandler;
import com.example.tianyiclient.event.events.client.TickEvent;
import net.minecraft.client.MinecraftClient;
import net.minecraft.item.ItemStack;
import net.minecraft.item.Items;
import net.minecraft.screen.slot.SlotActionType;

public class ModuleTemplate extends Module {
    
    // 1. å£°æ˜è®¾ç½®é¡¹ï¼ˆä½¿ç”¨finalä¿®é¥°ï¼‰
    private final BoolSetting setting1;
    private final IntegerSetting setting2;
    private final DoubleSetting setting3;
    
    // 2. å£°æ˜çŠ¶æ€å˜é‡
    private int counter = 0;
    private boolean isWorking = false;
    
    public ModuleTemplate() {
        // 3. è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆå¿…é¡»ï¼‰
        super("æ¨¡å—åç§°", "æ¨¡å—åŠŸèƒ½æè¿°", Category.æˆ˜æ–—);
        
        // 4. åˆå§‹åŒ–è®¾ç½®é¡¹å¹¶æ·»åŠ åˆ°æ¨¡å—
        setting1 = addSetting(new BoolSetting(
            "åŠŸèƒ½å¼€å…³", 
            "å¯ç”¨æˆ–ç¦ç”¨ä¸»è¦åŠŸèƒ½", 
            true  // é»˜è®¤å€¼
        ));
        
        setting2 = addSetting(new IntegerSetting(
            "é‡å¤æ¬¡æ•°",
            "åŠŸèƒ½æ‰§è¡Œçš„é‡å¤æ¬¡æ•°",
            5,    // é»˜è®¤å€¼
            1,    // æœ€å°å€¼
            20    // æœ€å¤§å€¼
        ));
        
        setting3 = addSetting(new DoubleSetting(
            "å¼ºåº¦è®¾ç½®",
            "åŠŸèƒ½æ•ˆæœçš„å¼ºåº¦",
            1.0,  // é»˜è®¤å€¼
            0.1,  // æœ€å°å€¼
            5.0   // æœ€å¤§å€¼
        ));
        
        // 5. å¯é€‰ï¼šè®¾ç½®é»˜è®¤å¿«æ·é”®ï¼ˆGLFWé”®ç ï¼‰
        setKeybind(org.lwjgl.glfw.GLFW.GLFW_KEY_R);
    }
    
    @Override
    protected void onEnable() {
        // 6. æ¨¡å—å¯ç”¨æ—¶çš„åˆå§‹åŒ–
        counter = 0;
        isWorking = false;
        
        // å¯é€‰ï¼šæ‰“å°è°ƒè¯•ä¿¡æ¯
        System.out.println("[æ¨¡å—åç§°] å·²å¯ç”¨");
    }
    
    @Override
    protected void onDisable() {
        // 7. æ¨¡å—ç¦ç”¨æ—¶çš„æ¸…ç†
        isWorking = false;
        
        // å¯é€‰ï¼šæ‰“å°è°ƒè¯•ä¿¡æ¯
        System.out.println("[æ¨¡å—åç§°] å·²ç¦ç”¨");
    }
    
    @EventHandler
    public void onTick(TickEvent event) {
        // 8. å®‰å…¨æ£€æŸ¥ï¼ˆå¿…é¡»ï¼‰
        if (!isEnabled()) return;
        if (mc.player == null || mc.world == null) return;
        
        // 9. è·å–è®¾ç½®å€¼
        boolean shouldWork = setting1.getValue();
        int repeatCount = setting2.getValue();
        double strength = setting3.getValue();
        
        // 10. æ¨¡å—ä¸»è¦é€»è¾‘
        if (shouldWork && !isWorking) {
            startWorking(repeatCount, strength);
        }
        
        // 11. æŒç»­çš„é€»è¾‘å¤„ç†
        if (isWorking) {
            processWorking();
        }
    }
    
    // 12. ç§æœ‰è¾…åŠ©æ–¹æ³•
    private void startWorking(int count, double strength) {
        isWorking = true;
        counter = count;
        // å…·ä½“é€»è¾‘...
    }
    
    private void processWorking() {
        if (counter > 0) {
            counter--;
            // æ¯æ¬¡tickæ‰§è¡Œçš„æ“ä½œ...
        } else {
            isWorking = false;
        }
    }
}